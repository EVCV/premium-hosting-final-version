---
interface BackgroundElement {
  type: 'circle' | 'square' | 'gradient';
  size: string;
  color: string;
  position: string;
  animation?: string;
  blur?: string;
}

interface Props {
  elements?: BackgroundElement[];
  preset?: 'floating' | 'subtle' | 'geometric' | 'minimal';
  className?: string;
}

const {
  elements,
  preset = 'subtle',
  className = ""
} = Astro.props;

const presetElements = {
  floating: [
    { type: 'circle', size: 'w-32 h-32', color: 'bg-gold/10', position: 'top-20 left-10', animation: 'floating', blur: '' },
    { type: 'square', size: 'w-24 h-24', color: 'bg-dark/10', position: 'top-40 right-20', animation: 'floating-reverse', blur: '' },
    { type: 'circle', size: 'w-20 h-20', color: 'bg-gold/20', position: 'bottom-32 left-1/4', animation: 'floating-slow', blur: '' },
    { type: 'square', size: 'w-28 h-28', color: 'bg-dark/15', position: 'bottom-20 right-10', animation: 'floating-reverse-slow', blur: '' }
  ],
  subtle: [
    { type: 'circle', size: 'w-32 h-32', color: 'bg-gold/5', position: 'top-20 right-10', blur: 'blur-2xl' },
    { type: 'circle', size: 'w-40 h-40', color: 'bg-dark/5', position: 'bottom-32 left-10', blur: 'blur-3xl' }
  ],
  geometric: [
    { type: 'gradient', size: 'w-full h-full', color: 'bg-gradient-to-br from-gold/5 to-dark/5', position: 'inset-0', blur: '' }
  ],
  minimal: []
};

const finalElements = elements || presetElements[preset];
---

<div class={`absolute inset-0 overflow-hidden ${className}`}>
  {finalElements.map((element, index) => (
    <div 
      class={`absolute ${element.position} ${element.size} ${element.color} ${element.type === 'circle' ? 'rounded-full' : element.type === 'square' ? 'rounded-lg' : ''} ${element.blur || ''} ${element.animation || ''}`}
      style={element.animation?.includes('delay') ? `animation-delay: ${index * 0.5}s` : ''}
    />
  ))}
</div>

<style>
  .floating {
    animation: float 3s ease-in-out infinite;
  }
  
  .floating-reverse {
    animation: float 3s ease-in-out infinite reverse;
  }
  
  .floating-slow {
    animation: float 4s ease-in-out infinite;
  }
  
  .floating-reverse-slow {
    animation: float 4s ease-in-out infinite reverse;
  }
  
  @keyframes float {
    0%, 100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-20px);
    }
  }
</style>
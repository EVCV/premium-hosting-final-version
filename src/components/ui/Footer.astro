---
import { Image } from "astro:assets";
import Bluesky from "../../assets/bluesky.svg";
import Facebook from "../../assets/facebook.svg";
import Github from "../../assets/github.svg";
import Google from "../../assets/google.svg";
import Instagram from "../../assets/Instagram.svg";
import Linkedin from "../../assets/linkedIn.svg";
import Logo from "../../assets/premium-hosting-horizontal-logo.svg";
import Pinterest from "../../assets/pinterest.svg";
import Reddit from "../../assets/reddit.svg";
import Slack from "../../assets/slack.svg";
import TikTok from "../../assets/tiktok.svg";
import X from "../../assets/x.svg";
import Youtube from "../../assets/youtube.svg";
import { FOOTER_LINKS, SOCIAL_LINKS } from "../../constants";

const socialLogos = SOCIAL_LINKS.map((social, index) => ({
  ...social,
  src: [
    Bluesky,
    Facebook,
    Github,
    Google,
    Instagram,
    Linkedin,
    Pinterest,
    Reddit,
    Slack,
    TikTok,
    X,
    Youtube
  ][index],
}));
---

<footer class="bg-dark text-white">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Main Footer Content -->
    <div class="py-16">
      <div class="grid grid-cols-1 lg:grid-cols-5 gap-8">
        <!-- Brand Section -->
        <div class="lg:col-span-1">
          <div class="mb-6">
            <a href="/">
              <Image src={Logo} alt="Premium Hosting" class="w-48 h-auto brightness-0 invert" />
            </a>
          </div>
          <p class="text-gray-300 mb-6 text-sm leading-relaxed">
            Premium web hosting solutions with 99.9% uptime guarantee. 
            Trusted by thousands of websites worldwide.
          </p>
          <div class="flex space-x-4">
            {socialLogos.slice(0, 5).map((social) => (
              <a 
                href={social.link} 
                target="_blank" 
                rel="noopener noreferrer"
                class="w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center hover:bg-gold hover:text-black transition-all duration-300 group"
                aria-label={social.name}
              >
                <Image 
                  src={social.src} 
                  alt={social.name} 
                  class="w-5 h-5 filter brightness-0 invert group-hover:brightness-100 group-hover:invert-0" 
                />
              </a>
            ))}
          </div>
        </div>

        <!-- Products -->
        <div>
          <h3 class="font-semibold text-lg mb-6 text-gold">Products</h3>
          <ul class="space-y-3">
            {FOOTER_LINKS.products.map((link) => (
              <li>
                <a href={link.href} class="text-gray-300 hover:text-white transition-colors duration-200 text-sm">
                  {link.name}
                </a>
              </li>
            ))}
          </ul>
        </div>

        <!-- Company -->
        <div>
          <h3 class="font-semibold text-lg mb-6 text-gold">Company</h3>
          <ul class="space-y-3">
            {FOOTER_LINKS.company.map((link) => (
              <li>
                <a href={link.href} class="text-gray-300 hover:text-white transition-colors duration-200 text-sm">
                  {link.name}
                </a>
              </li>
            ))}
          </ul>
        </div>

        <!-- Support -->
        <div>
          <h3 class="font-semibold text-lg mb-6 text-gold">Support</h3>
          <ul class="space-y-3">
            {FOOTER_LINKS.support.map((link) => (
              <li>
                <a href={link.href} class="text-gray-300 hover:text-white transition-colors duration-200 text-sm">
                  {link.name}
                </a>
              </li>
            ))}
          </ul>
        </div>

        <!-- Newsletter & Contact -->
        <div>
          <h3 class="font-semibold text-lg mb-6 text-gold">Stay Updated</h3>
          <p class="text-gray-300 text-sm mb-4">
            Get the latest hosting tips and offers.
          </p>
          
          <!-- Newsletter Signup -->
          <form class="mb-6">
            <div class="flex">
              <input 
                type="email" 
                placeholder="Enter your email"
                class="flex-1 px-4 py-2 bg-gray-800 border border-gray-700 rounded-l-lg focus:outline-none focus:border-gold text-sm"
                required
              />
              <button 
                type="submit"
                class="px-4 py-2 bg-gold text-black font-medium rounded-r-lg hover:bg-yellow-400 transition-colors duration-200 text-sm"
              >
                Subscribe
              </button>
            </div>
          </form>

          <div class="space-y-2 text-sm">
            <div class="flex items-center text-gray-300">
              <span class="w-4 h-4 mr-2">ðŸ“§</span>
              <a href="mailto:support@premium-hosting.co.uk" class="hover:text-white transition-colors">
                support@premium-hosting.co.uk
              </a>
            </div>
            <div class="flex items-center text-gray-300">
              <span class="w-4 h-4 mr-2">ðŸ“ž</span>
              <a href="tel:+44-20-3808-9448" class="hover:text-white transition-colors">
                +44 20 3808 9448
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Legal Links -->
    <div class="border-t border-gray-800 py-6">
      <div class="flex flex-wrap justify-center lg:justify-start gap-6 mb-4">
        {FOOTER_LINKS.legal.map((link) => (
          <a href={link.href} class="text-gray-400 hover:text-white transition-colors duration-200 text-xs">
            {link.name}
          </a>
        ))}
      </div>
    </div>

    <!-- Bottom Bar -->
    <div class="border-t border-gray-800 py-6">
      <div class="flex flex-col lg:flex-row justify-between items-center space-y-4 lg:space-y-0">
        <div class="text-gray-400 text-sm text-center lg:text-left">
          <p>Â© 2024 Premium Hosting. All rights reserved.</p>
          <p>Registered in England and Wales. Company Number: 12345678</p>
        </div>
        
        <div class="flex items-center space-x-4 text-sm">
          <div class="flex items-center space-x-2">
            <div class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
            <span class="text-gray-300">99.9% Uptime</span>
          </div>
          <div class="text-gray-500">|</div>
          <div class="flex items-center space-x-2">
            <span class="text-gold">ðŸ”’</span>
            <span class="text-gray-300">SSL Secured</span>
          </div>
          <div class="text-gray-500">|</div>
          <div class="flex items-center space-x-2">
            <span class="text-gold">âš¡</span>
            <span class="text-gray-300">SSD Storage</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>

<style>
  footer a:hover {
    transform: translateX(2px);
    transition: transform 0.2s ease;
  }

  .animate-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  @keyframes pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: .5;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const newsletterForm = document.querySelector('footer form');
    
    if (newsletterForm) {
      newsletterForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const emailInput = (e.target as HTMLFormElement).querySelector('input[type="email"]') as HTMLInputElement;
        const email = emailInput.value.trim();
        
        if (email) {
          // Here you would typically send to your newsletter service
          // For now, just show a success message
          const submitBtn = (e.target as HTMLFormElement).querySelector('button[type="submit"]') as HTMLButtonElement;
          const originalText = submitBtn.textContent;
          
          submitBtn.textContent = 'Subscribed!';
          submitBtn.classList.add('bg-green-500');
          submitBtn.classList.remove('bg-gold', 'hover:bg-yellow-400');
          
          setTimeout(() => {
            submitBtn.textContent = originalText;
            submitBtn.classList.remove('bg-green-500');
            submitBtn.classList.add('bg-gold', 'hover:bg-yellow-400');
            emailInput.value = '';
          }, 3000);
        }
      });
    }
  });
</script>
